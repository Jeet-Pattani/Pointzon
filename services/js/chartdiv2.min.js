am5.ready((function(){var e=am5.Root.new("chartdiv2");e.setThemes([am5themes_Responsive.new(e),am5themes_Dark.new(e)]);var a=e.container.children.push(am5stock.StockChart.new(e,{}));e.numberFormatter.set("numberFormat","#,###.00");var t=a.panels.push(am5stock.StockPanel.new(e,{wheelY:"zoomX",panX:!0,panY:!0})),n=t.yAxes.push(am5xy.ValueAxis.new(e,{renderer:am5xy.AxisRendererY.new(e,{pan:"zoom"}),extraMin:.1,tooltip:am5.Tooltip.new(e,{}),numberFormat:"#,###.00",extraTooltipPrecision:2})),r=t.xAxes.push(am5xy.GaplessDateAxis.new(e,{baseInterval:{timeUnit:"minute",count:1},renderer:am5xy.AxisRendererX.new(e,{}),tooltip:am5.Tooltip.new(e,{})})),s=n.createAxisRange(n.makeDataItem({value:0})),o=s.get("label");o&&o.setAll({fill:am5.color(16777215),background:am5.Rectangle.new(e,{fill:am5.color(0)})});var l=s.get("grid");l&&l.setAll({strokeOpacity:.5,strokeDasharray:[2,5]});var i=t.series.push(am5xy.CandlestickSeries.new(e,{name:"AMCH",clustered:!1,valueXField:"Date",valueYField:"Close",highValueYField:"High",lowValueYField:"Low",openValueYField:"Open",calculateAggregates:!0,xAxis:r,yAxis:n,legendValueText:"open: [bold]{openValueY}[/] high: [bold]{highValueY}[/] low: [bold]{lowValueY}[/] close: [bold]{valueY}[/]",legendRangeValueText:""}));a.set("stockSeries",i),t.plotContainer.children.push(am5stock.StockLegend.new(e,{stockChart:a})).data.setAll([i]),t.set("cursor",am5xy.XYCursor.new(e,{yAxis:n,xAxis:r,snapToSeries:[i],snapToSeriesBy:"y!"}));var m=t.set("scrollbarX",am5xy.XYChartScrollbar.new(e,{orientation:"horizontal",height:50}));a.toolsContainer.children.push(m);var h=m.chart.xAxes.push(am5xy.GaplessDateAxis.new(e,{baseInterval:{timeUnit:"minute",count:1},renderer:am5xy.AxisRendererX.new(e,{})})),d=m.chart.yAxes.push(am5xy.ValueAxis.new(e,{renderer:am5xy.AxisRendererY.new(e,{})})),u=m.chart.series.push(am5xy.LineSeries.new(e,{valueYField:"Close",valueXField:"Date",xAxis:h,yAxis:d}));u.fills.template.setAll({visible:!0,fillOpacity:.3});var c=new Date,x=1200;var p=function(){for(var e=[],a=0;a<50;a++){var t=new Date(c);t.setMinutes(t.getMinutes()-a);var n=(x+=Math.round((Math.random()<.49?1:-1)*Math.random()*10))+Math.round(16*Math.random()-8),r=Math.min(x,n)-Math.round(5*Math.random()),s=Math.max(x,n)+Math.round(5*Math.random());e.unshift({Date:t.getTime(),Close:x,Open:n,Low:r,High:s}),t}return e}();i.data.setAll(p),u.data.setAll(p),setInterval((function(){var t=a.get("stockSeries"),n=Date.now(),r=t.data.getIndex(t.data.length-1);if(r){var l=r.Date,i=r.Close;x=am5.math.round(i+(Math.random()<.5?1:-1)*Math.random()*2,2);var m=r.High,h=r.Low,d=r.Open;if(am5.time.checkChange(n,l,"minute")){d=x,m=x,h=x;var c={Date:n,Close:x,Open:x,Low:x,High:x};t.data.push(c),u.data.push(c),l=n}else{x>m&&(m=x),x<h&&(h=x);var p={Date:n,Close:x,Open:d,Low:h,High:m};t.data.setIndex(t.data.length-1,p),u.data.setIndex(u.data.length-1,p)}if(o){s.animate({key:"value",to:x,duration:500,easing:am5.ease.out(am5.ease.cubic)}),o.set("text",a.getNumberFormatter().format(x));var g=o.get("background");g&&(x<d?g.set("fill",e.interfaceColors.get("negative")):g.set("fill",e.interfaceColors.get("positive")))}}}),1e3)}));